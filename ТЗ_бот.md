# Техническое задание: разработка бота

## 1. Общая информация

### 1.1. Наименование

Чат-бот «Проектная работа ПТО и Проектировщики» (не окончательное решение)

### 1.2. Общее описание

Чат-бот предназначен для размещения заказов по проектированию различных разделов проектной документации (далее - ПД), рабочей документации (далее – РД) и исполнительной документации (далее – ИД), поиска исполнителей для осуществления проектной деятельности по вышеупомянутой документации на основе «фриланса», а также поиска заказов для проектирования.

В данном боте присутствует три роли — «Заказчик», «Исполнитель», «Администратор». Заказчик оставляет заявку разработки разделов ПД, РД или ИД с обязательным указанием необходимых разделов, ориентировочных сроков и цены. После оставления заявки ему выпадают подходящие исполнители по примеру приложения для знакомств. Исполнитель заполняет всю необходимую информацию, после которой также выпадают подходящие по возможным разделам Заказчики.

Заказчик и Исполнитель видят друг друга и всю необходимую информации о опыте, разделах и ценах. Для предоставления контактов друг другу необходимо подтвердить их взаимное согласие.

Администрация Чат-бота не несет ответственность за добросовестность исполнителей и заказчиков. Все споры и разногласия решаются между сторонами «Заказчик» и «Исполнитель» без участия администрации Чат-бота. Чат-бот — информационный сервис.

### 1.3. Общие требования

Разработка бота в мессенджере: Telegram.

### 1.4. Группы пользователей

**Администратор.** Пользователь с данной ролью может загружать в бот информацию для работы функционала (сведения, списки), управлять списком администраторов, выгружать отчет по данным в системе, проверять отзывы на «Заказчика» и «Исполнителя», производить разблокировку и блокировку. Роль определяется по номеру телефона и индивидуального кода.

**Заказчик.** Пользователь бота, размещающий заказы на проектирование различных разделов ПД, РД, ИД.

**Исполнитель.** Пользователь бота, исполняющий заказы на проектирование различных разделов ПД, РД, ИД.

### 1.5. Структура проекта

Проект состоит из следующих составляющих:

1) Пользовательская часть  
2) Часть администратора  

---

## 2. Пользовательская часть

### 2.1. Регистрация и авторизация в боте

Чтобы использовать функционал бота при первом входе пользователь должен пройти регистрацию. Сценарий регистрации описан в таблице 2.1.

#### Таблица 2.1

| Действие пользователя | Действие программы/условия |
|---|---|
| 1. Первый вход в бот | Вывод сообщения: «Что может этот бот: Данный бот предназначен для размещения заказов по проектированию различных разделов проектной документации, рабочей документации и исполнительной документации, а также поиска исполнителей на различные разделы»<br><br>Кнопка **Запустить** |
| 2. Нажатие кнопки Запустить | Вывод сообщения “Просим предоставить контактный номер номер телефона”<br>Кнопка **Ввести номер**<br><br>ВОЗМОЖНА ЛИ ПРИВЯЗКА СРАЗУ К ТГ??? |
| 3. Нажатие кнопки Ввести номер | Получение номера телефона |
| 3.1 Номер телефона совпадает с базой данных и соответствует роли «Администратор». | Сценарий использования описан в соответствующем разделе |
| 3.2 Номер телефона не совпадает с базой данных. | Кнопки «Заказчик», «Исполнитель»<br>Переход к вопросам регистрации «Заказчика» и «Исполнителя» |

Блок вопросов для регистрации «Заказчика» перечислен в таблице 2.1.1.

#### Таблица 2.1.1

| Вопрос | Формат ответа |
|---|---|
| 1. Введите ваше Имя | Набор текста, обязательное |
| 2. Введите вашу Фамилию | Набор текста, обязательное |
| 3. Введите наименование организации | Набор текста, необязательный либо кнопка **Пропустить** (переход к следующему вопросу) |
| 4 | Автоматически присваивается номер заказа в системе (данное сообщение не выводится пользователю) |
| 5. Введите наименование заказа | Набор текста или цифр, обязательное |
| 6. Укажите вид документации (выбор нескольких) | Выбор из списка: **ПД**, **РД**, **ИД** — обязательное |
| 7. Укажите вид строительства (выбор нескольких) | Выбор из списка:<br>— объекты капитального строительства производственного и непроизводственного назначения;<br>— линейные объекты. |
| 8.1 Укажите требуемые разделы (выбор нескольких) при выборе «объекты капитального строительства производственного и непроизводственного назначения» | Выбор из списка:<br>ПЗ (пояснительная записка);<br>ГП (генеральный план);<br>АР (архитектурные решения);<br>АИ (интерьеры);<br>КЖ (конструкции железобетонные);<br>КМ (конструкции металлические);<br>КМД (конструкции металлические деталлироваочные);<br>КД (конструкции деревянные);<br>ВК (водопровод и канализация);<br>НВК (наружные сети водоснабжения и канализации);<br>ОВиК (Отопление, вентиляция и кондиционирование);<br>ТМ (Тепломеханические решения котельных);<br>ВС (Воздухоснабжение);<br>ГС (газоснабжение);<br>СС (средства связи);<br>ЭС (электроснабжение);<br>ЭМ (силовое электрооборудование);<br>ЭО, ЭН (внутреннее и наружное освещение);<br>ЭХЗ (электрохим защита);<br>ТЭ (тепломеханическая часть ДЭС);<br>АЗ (антикоррозийная защита зданий и сооружений);<br>ПОС (Проект организации строительства);<br>ПОД (проект организации демонтажа);<br>ООС (охрана окружающей среды);<br>МПБ, ПТ, ПС (пожарная безопасность);<br>ОДИ (доступ инвалидов);<br>СМ (смета);<br>Иная документация. |
| 8.2 Укажите требуемые разделы (выбор нескольких) при выборе «линейные объекты» | Выбор из списка:<br>ПЗ (пояснительная записка);<br>ППО (проект полосы отвода);<br>АД (автомобильные дороги);<br>ИССО (трубы);<br>ИССО1 (мосты);<br>ГСП (газопроводы);<br>ЭС (электроснабжение);<br>ТСОД (тех. Средства организации дорожного движения);<br>СС (средства связи);<br>ВК (водопровод и канализация);<br>НВК (наружные сети водоснабжения и канализации);<br>ОЧС (очистные сооружения);<br>РК (рекультивация земель):<br>ИЛО (здания и строения);<br>ПОС (Проект организации строительства);<br>ПОД (проект организации демонтажа);<br>ООС (охрана окружающей среды);<br>МПБ, ПТ, ПС (пожарная безопасность);<br>ОДИ (доступ инвалидов);<br>СМ (смета);<br>Иная документация. |
| 9. Укажите кратко что необходимо сделать (объем до 50 слов) | Текст |
| 10. Укажите срок исполнения | Указание даты |
| 11. Укажите ориентировочную цену | Договорная (нежелательно)<br>Численное значение |
| 12. Укажите необходимость проходить ГГЭ или другую экспертизу | Выбор из списка:<br>— да;<br>— Нет. |
| 13. Приложите файлы (ссылка на облачное хранение) | Ссылка на облачное хранение |

Блок вопросов для регистрации «Исполнителя» перечислен в таблице 2.1.2.

#### Таблица 2.1.2

| Вопрос | Формат ответа |
|---|---|
| 1. Введите ваше Имя | Набор текста, обязательное |
| 2. Введите вашу Фамилию | Набор текста, обязательное |
| 3. Введите наименование организации | Набор текста, необязательный либо кнопка **Пропустить** (переход к следующему вопросу) |
| 4. Опыт работы | Выбор из списка:<br>— Менее 1 года;<br>— От 1 до 5 лет;<br>— Более 5 лет. |
| 5. Прикрепите резюме и расскажите о выполненных заказах (объектах) | Ссылка на облачное хранение и/или текстовый рассказ на 100 слов |
| 6. Укажите вид разрабатываемой документации | Выбор из списка: **ПД**, **РД**, **ИД** — обязательное |
| 7. Укажите вид строительства (выбор нескольких) | Выбор из списка:<br>— объекты капитального строительства производственного и непроизводственного назначения;<br>— линейные объекты.<br>*при выборе двух видов строительства, по очереди 8.1 / 8.2 |
| 8.1 Укажите разделы, которые Вы разрабатываете (выбор нескольких) при выборе «объекты капитального строительства производственного и непроизводственного назначения» | Выбор из списка:<br>ПЗ (пояснительная записка);<br>ГП (генеральный план);<br>АР (архитектурные решения);<br>АИ (интерьеры);<br>КЖ (конструкции железобетонные);<br>КМ (конструкции металлические);<br>КМД (конструкции металлические деталлироваочные);<br>КД (конструкции деревянные);<br>ВК (водопровод и канализация);<br>НВК (наружные сети водоснабжения и канализации);<br>ОВиК (Отопление, вентиляция и кондиционирование);<br>ТМ (Тепломеханические решения котельных);<br>ВС (Воздухоснабжение);<br>ГС (газоснабжение);<br>СС (средства связи);<br>ЭС (электроснабжение);<br>ЭМ (силовое электрооборудование);<br>ЭО, ЭН (внутреннее и наружное освещение);<br>ЭХЗ (электрохим защита);<br>ТЭ (тепломеханическая часть ДЭС);<br>АЗ (антикоррозийная защита зданий и сооружений);<br>ПОС (Проект организации строительства);<br>ПОД (проект организации демонтажа);<br>ООС (охрана окружающей среды);<br>МПБ, ПТ, ПС (пожарная безопасность);<br>ОДИ (доступ инвалидов);<br>СМ (смета);<br>Иная документация. |
| 8.2 Укажите разделы, которые Вы разрабатываете (выбор нескольких) при выборе «линейные объекты» | Выбор из списка:<br>ПЗ (пояснительная записка);<br>ППО (проект полосы отвода);<br>АД (автомобильные дороги);<br>ИССО (трубы);<br>ИССО1 (мосты);<br>ГСП (газопроводы);<br>ЭС (электроснабжение);<br>ТСОД (тех. Средства организации дорожного движения);<br>СС (средства связи);<br>ВК (водопровод и канализация);<br>НВК (наружные сети водоснабжения и канализации);<br>ОЧС (очистные сооружения);<br>РК (рекультивация земель):<br>ИЛО (здания и строения);<br>ПОС (Проект организации строительства);<br>ПОД (проект организации демонтажа);<br>ООС (охрана окружающей среды);<br>МПБ, ПТ, ПС (пожарная безопасность);<br>ОДИ (доступ инвалидов);<br>СМ (смета);<br>Иная документация. |

**Правила валидации ответов:**

1. Обязательные ответы должны быть заполнены.  
2. При текстовом формате ответа выполняется проверка на наличие цифр и/или других символов кроме букв (латиница/кириллица). Если ответ не соответствует формату — вывод сообщения: “Не похоже на [имя/фамилию]. Попробуйте еще раз”  
3. Формат ответа — ссылка. Если в ответе был набран произвольный набор символов — вывод сообщения: “Не похоже на ссылку. Вставьте ссылку на облачное хранение”  

### 2.2. Повторная авторизация в боте

ВОЗМОЖНО ЛИ ПРИВЯЗКА К НОМЕРУ ТГ???

Авторизация пользователя происходит при помощи сверки номера телефона с базой данных. Сценарий регистрации описан в таблице 2.1.

#### Таблица 2.1

| Действие пользователя | Действие программы/условия |
|---|---|
| 1. Вход в бот | Вывод сообщения “Просим предоставить номер телефона”<br>Кнопка **Предоставить номер** |
| 2. Нажатие кнопки Предоставить номер | Получение номера телефона |
| 2.1 Номер телефона совпадает с базой данных и соответствует роли Администратор. | Сценарий использования описан в соответствующем разделе |
| 2.2 Номер телефона совпадает с базой данных и соответствует роли Пользователь. | Сценарий использования описан в соответствующем разделе 2.3 и 2.4 |

### 2.3. Сценарий использования (Заказчик)

При успешной регистрации/авторизации **ЗАКАЗЧИК** попадает на главный экран бота и может начать использовать предусмотренный функционал. Сценарий использования описан в таблице 2.3 ниже.

#### Таблица 2.3

| Действие пользователя | Действие программы/условия |
|---|---|
| 1. Авторизация успешна | Вывод меню:<br>— Мой профиль<br>— Открытые заказы<br>— Закрытые заказы<br>— Рейтинг<br>— Помощь |
| 1.1 Мой профиль | Вывод сообщения с данными заполненными при регистрации (если значение не было заполнено — строка не выводится):<br>Роль в системе<br>Имя Фамилия<br>Наименование организации<br><br>Кнопка «Стать исполнителем»<br>Назад |
| 1.1.1 Кнопка «Стать исполнителем» | Переход к блоку вопросов (таблица 2.1.2) |
| 1.2 Открытые заказы | Вывод кнопок:<br>[номер заказа] [Наименование]<br>Новый заказ<br>назад |
| 1.2.1 [номер заказа] [Наименование] | Вывод всей информации о заказе из таблицы 2.1.1 с п.5<br>Вывод кнопок:<br>Редактировать<br>Отклики<br>Закрыть заказ<br>Назад |
| 1.2.1.1 Редактировать | Запуск опросника из таблицы 2.1.1 с п.5<br>Вывод кнопок:<br>Сохранить<br>Назад |
| 1.2.1.1.1 Сохранить | Сохраняет изменение заказа под тем же номером |
| 1.2.1.1.2 Назад | При внесении изменений и не нажатии кнопки сохранить — вывод сообщения “изменения не сохранены. Сохранить изменения”<br>Вывод кнопок: Да, Нет<br>При невнесении изменений — выход в меню 1.2.1 |
| 1.2.1.2 Отклики | Вывод кнопок:<br>Новые<br>Принятые<br>Отказанные<br>Назад |
| 1.2.1.2.1 Новые | Автоматический вывод по одному «Исполнителю» при совпадении хотя бы одного раздела таблицы 2.1.1 п.7, п.8.1, п.8.2 с таблицей исполнителя 2.1.2 п.7, п.8.1, п.8.2<br><br>Вывод информации о Исполнителе должен включать информацию, указанную Исполнителем с таблицы 2.1.2:<br>Имя<br>Опыт<br>Вид строительства<br>Разрабатываемые разделы<br>Резюме<br><br>Кнопки: Да, Нет, Назад |
| 1.2.1.2.1.1 Да | Выбранный пользователь будет добавлен в **Принятые**, переход к следующему. Если исполнителей больше нет — вывод сообщения «Доступные исполнители закончились».<br><br>Пользователям, которые были согласованы, будет отправлено сообщение:<br>“Добрый день! Вас выбрали исполнителем. Ознакомитесь в разделе Возможные заказы в пункте Вас выбрали” |
| 1.2.1.2.1.2 Нет | Выбранный пользователь будет добавлен в **Отказанные**, переход к следующему. Если исполнителей больше нет — вывод сообщения «Доступные исполнители закончились». |
| 1.2.1.2.2 Принятые | Краткий вывод информации о понравившихся исполнителей:<br>Имя Опыт Резюме<br>Вывод напротив имени: принял ли исполнитель Ваш заказ или нет и наоборот. Если да — рядом появляется кнопка с номером телефона (желательно кликабельная).<br><br>Надпись: «Подтвердите исполнителя. Ваш заказ будет показываться до тех пор, пока Вы не подтвердите исполнителя.»<br><br>Кнопка: «Подтвердите исполнителя» (если возможно — у каждого исполнителя своя)<br>Назад |
| 1.2.1.2.2.1 Подтвердите исполнителя | Заказчик подтверждает из списка доступных исполнителей, которые приняли заказ. После этого заказ убирается из списка и не выдается в поиске другим исполнителям. |
| 1.2.1.2.3 Отказанные | Краткий вывод информации о понравившихся исполнителей:<br>Имя Опыт Резюме<br>Вывод напротив имени кнопки «Изменить решение»<br>Кнопка: Назад |
| 1.2.1.3 Закрыть заказ | Сообщение: Вы действительно хотите закрыть заказ?<br>Кнопки: Да, Назад |
| 1.2.1.3.1 Да | После нажатия на кнопку отправляется сообщение Исполнителю:<br>“Добрый день! Заказчик закрыл заказ [номер заказа] [Наименование]. Подтвердите закрытие”<br><br>Заказ остается в открытых заказах и горит желтым.<br>Кнопка «оцените исполнителя» не появляется, пока исполнитель не подтвердит закрытие заказа.<br>Заказ переносится в закрытие заказы только после подтверждения исполнителя.<br><br>Пишется надпись «Ожидайте подтверждение исполнителя»<br>Кнопки: оцените исполнителя |
| 1.2.1.3.1.2 Оценка исполнителя | Производится выбор исполнителя из п.п. 1.2.1.2.2, который принял заказ, и ставятся эмоджи звездочки, и при возможности пишется отзыв |
| 1.2.2 Новый заказ | Переход в опросник из таблицы 2.1.1 с п. 4 |
| 1.3 Закрытые заказы | Вывод кнопок с наименованием заказов, которые попали с п. 1.2.1.3.1<br>Кнопка: назад |
| 1.3.1 Наименование заказа | Вывод информации о заказе с п.5 из таблицы 2.1.1 |
| 1.4 Рейтинг | Выводится информация о Вашем рейтинге на основе опроса Исполнителя<br>Кнопка: назад |
| 1.5 Помощь | Кнопки:<br>Новое сообщение<br>Назад |
| 1.5.1 Новое сообщение | Описание проблемы, которое направится Администрации |

### 2.4. Сценарий использования (Исполнитель)

При успешной регистрации/авторизации **Исполнитель** попадает на главный экран бота и может начать использовать предусмотренный функционал. Сценарий использования описан в таблице 2.4 ниже.

#### Таблица 2.4

| Действие пользователя | Действие программы/условия |
|---|---|
| 1. Авторизация успешна | Вывод меню:<br>Мой профиль<br>Возможные заказы<br>Открытые заказы<br>Закрытые заказы<br>Рейтинг<br>Помощь |
| 1.1 Мой профиль | Вывод сообщения с данными заполненными при регистрации (если значение не было заполнено — строка не выводится):<br>Роль в системе<br>Имя Фамилия<br>Опыт работы<br>Резюме<br><br>Кнопка «Стать заказчиком»<br>Кнопка «Редактировать»<br>Назад |
| 1.1.1 Кнопка «Стать заказчиком» | Переход к блоку вопросов (таблица 2.1.1) |
| 1.1.2 Кнопка «Редактировать» | Переход к блоку вопросов (таблица 2.1.2 п. 3) |
| 1.2 Возможные заказы | Кнопки:<br>Вас выбрали<br>Подбор<br>Назад |
| 1.2.1 Вас выбрали | Появляется номер заказа и наименование. При нажатии на номер заказа появляется сам заказ и вся информация о нем с таблицы 2.1.1.<br>Кнопки: Да, Нет, Назад |
| 1.2.1.1 Да | При нажатии кнопки Да заказ переходит в меню **Открытые заказы** |
| 1.2.1.2 Нет | При нажатии кнопки Да заказ переходит в меню **Закрытые заказы** |
| 1.2.2 Подбор | Автоматический вывод по одному «Заказчику» при совпадении хотя бы одного раздела таблицы 2.1.1 п.7, п.8.1, п.8.2 с таблицей исполнителя 2.1.2 п.7, п.8.1, п.8.2<br><br>Кнопки: Да, Нет, Назад |
| 1.2.2.1 Да | При нажатии кнопки Да отклик переходит к Заказчику (таблица 2.3 п. 1.2.1.2.1) |
| 1.3 Открытые заказы | Вывод кнопок:<br>[номер заказа] [Наименование]<br>назад |
| 1.3.1 [номер заказа] [Наименование] | Вывод всей информации о заказе из таблицы 2.1.1 с п.5<br>Номер заказчика<br>Вывод кнопок:<br>Закрыть заказ<br>Назад |
| 1.3.1.3 Закрыть заказ | Сообщение: Вы действительно хотите закрыть заказ?<br>Кнопки: Да, Назад |
| 1.3.1.3.1 Да | После нажатия на кнопку отправляется сообщение Заказчику:<br>“Добрый день! Исполнитель закрыл заказ [номер заказа] [Наименование]. Подтвердите закрытие”<br><br>Заказ остается в открытых заказах и горит желтым.<br>Кнопка «оцените заказчика» не появляется, пока заказчик не подтвердит закрытие заказа.<br>Заказ переносится в закрытие заказы только после подтверждения заказчика.<br><br>Пишется надпись «Ожидайте подтверждение Заказчика»<br>Кнопки: оцените Заказчика |
| 1.3.1.3.1.2 Оценка заказчика | Ставятся эмоджи звездочки и пишется отзыв. |
| 1.4 Закрытые заказы | Вывод кнопок с наименованием заказов, которые попали с п. 1.2.1.3.1<br>Кнопка: назад |
| 1.4.1 Наименование заказа | Вывод информации о заказе с п.5 из таблицы 2.1.1 |
| 1.5 Рейтинг | Выводится информация о Вашем рейтинге на основе опроса Исполнителя<br>Кнопка: назад |
| 1.6 Помощь | Кнопки:<br>Новое сообщение<br>Назад |
| 1.6.1 Новое сообщение | Описание проблемы, которое направится Администрации |

**Правила отображения:**

1. Карточки заказов выводятся в хронологическом порядке начиная от самого раннего по времени.  

---

## 3. Сценарий использования (администратор)

Пользователь в роли **Администратор** может загружать в бот данные списков, а также выгружать отчет.

#### Таблица 3

| Действие пользователя | Действие программы/условия |
|---|---|
| 1. Авторизация успешна | Вывод меню:<br>Отчет по заказчикам<br>Отчет по исполнителем<br>Отчет по принятым двумя сторонами заказами<br>Статистика бота |
| 1.1 Отчет по заказчикам | Отправка файла в чат |
| 1.2 Отчет по исполнителем | Отправка файла в чат |
| 1.3 Отчет по принятым двумя сторонами заказа | Отправка файла в чат |
| 1.4 Статистика бота | Отправка файла в чат |

### 3.1. Отчет по заказчикам

Отчет представляет собой файл в формате .excel, данные представлены в виде таблицы (одна строка - один пользователь). Таблица содержит следующие заголовки столбцов:

1. № п/п  
2. Номер телефона  
3. Имя Фамилия  
4. Количество заказов  
5. Количество открытых заказов и информация о них (Номер исполнителя и его имя)  
6. Количество закрытых заказов  
7. Количество исполнителей и разделы по заказу  
8. Рейтинг  

Если какие-либо данные не были указаны (загружены) пользователем — ячейка остается пустой.

### 3.2. Отчет по исполнителях

Отчет представляет собой файл в формате .excel, данные представлены в виде таблицы (одна строка - одно мероприятие). Таблица содержит следующие заголовки столбцов:

1. № п/п  
2. Номер телефона  
3. Имя Фамилия  
4. Разрабатываемые разделы  
5. Количество принятых заказов  
6. Количество возможных заказов  
7. Количество открытых заказов и информация о них (номер заказчика и его имя)  
8. Количество выполненных заказов  
9. Рейтинг  

Если какие-либо данные отсутствуют — ячейка остается пустой.

### 3.3. Отчет по принятым двумя сторонами заказа

Отчет представляет собой файл в формате .excel, данные представлены в виде таблицы (одна строка - одно мероприятие). Таблица содержит следующие заголовки столбцов:

1. № п/п  
2. Номер телефона заказчика  
3. Имя Фамилия заказчика  
4. Номер телефона Исполнителя  
5. Имя Фамилия Исполнителя  
6. Срок исполнения  

Если какие-либо данные отсутствуют — ячейка остается пустой.

### 3.4. Статистика бота

Отчет представляет собой файл в формате .excel, данные представлены в виде таблицы (одна строка - одно мероприятие). Таблица содержит следующие заголовки столбцов:

1. Количество пользователей  
2. Количество заказчиков  
3. Количество исполнителей  
4. Количество заказов  
5. Количество заказов в работе  

Если какие-либо данные отсутствуют — ячейка остается пустой.

---

## 4. Возможная монетизация

- Внутренняя монетизация телеграмм  
- Введение платного размещения заказа  
- Интеграция в бот вакансий компаний с удаленным графиком работы с увеличенным количеством показов  
- Интеграция в бот вакансий на вахте  
